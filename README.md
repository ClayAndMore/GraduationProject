2017年4月4日第一次创建

### 写在前面

这是我的毕业设计，一个康复网站，帮助需要疾病或手术后的人进行康复信息。

主要有两个结构，一个主页面的疾病和手术管理，介绍了手术和相关疾病需要的处理手段和中西药物的治疗。

第二个页面是患者和医生之间的交流板块。是一个类似于社区的功能，有用户登陆注册，权限管理，文件上传等功能。

### 环境

window10下的pycharm 开发，python3.5。

用的flask框架，其他配置在requirements.txt下。

### 项目日志
4月5日
为了明天提交数据库的ER图，把数据库完善了下，
加了手术分级和手术表中的一对多的关系
加了帖子表，回复表，用户表之间的关系。
对帖子和手术分级之间建立多对一的关系。

4月7日
做到用户头像上传，目前上传的图片存储方式有两种，
一种是将图片解成二进制码，存到myql,取出时再次编码。
一种是将图片路径存到mysql中，用的时候读取路再显示，相比较第二种方式较好。
本项目是用第二种方式，但是存路径时，用户上传的头像名字可能重复。
没有办法读取路径名是唯一性，还有有攻击者用图片的名字可以攻击，
所以，我们采取将用户名作为图片名，保持唯一性，又能面攻击，当用户更新头像时名字不变，只是变了文件。

4月12日
由于不更改文件名，用户上传头像后，由于浏览器缓存，页面不能马上更改图片，所以将图片名字加上时间戳，
保证了唯一性并可以页面更新。

4月16日
添加了flask_admin的认证登陆，不然任何用户都可以访问/admin.
添加了外科发帖。